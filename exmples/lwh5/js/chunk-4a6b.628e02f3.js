(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a6b"],{"2bc0":function(t,e,n){},"646e":function(t,e,n){"use strict";var i=n("72a8"),o=n.n(i);o.a},6787:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resume"},[n("van-notice-bar",{attrs:{scrollable:!1,mode:"closeable"}},[t._v("\n完善个人资料会为你优先推荐合适的工作哦！")]),n("van-cell-group",[n("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{clearable:"",label:"姓名",placeholder:"请输入姓名","input-align":"right",name:"姓名","error-message":t.errors.first("姓名")},on:{blur:function(e){t.onInput("userName")}},model:{value:t.formData.userName,callback:function(e){t.$set(t.formData,"userName",e)},expression:"formData.userName"}}),n("van-cell",{attrs:{title:"头像","is-link":""},on:{click:t.onUpload}},[n("div",{staticClass:"picture"},[n("img",{attrs:{src:t.formData.headUrl}})])]),n("van-cell",{attrs:{title:"性别","is-link":"",value:t.showValue("sex")},on:{click:function(e){t.onShowActionsheet("sex")}}}),n("van-cell",{attrs:{title:"求职状态修改","is-link":"",value:t.showValue("jobStatus")},on:{click:function(e){t.onShowActionsheet("jobStatus")}}}),n("van-field",{attrs:{label:"手机号码",placeholder:"请到安全设置模块设置手机号码","input-align":"right",disabled:""},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}}),n("van-cell",{attrs:{title:"出生日期","is-link":"",value:t._f("moment")(t.formData.birth,"YYYY/MM/DD")},on:{click:function(e){t.onShowActionsheet("birth")}}}),n("van-cell",{attrs:{title:"最高学历","is-link":"",value:t.showValue("education")},on:{click:function(e){t.onShowActionsheet("education")}}}),n("van-cell",{attrs:{title:"工作年限","is-link":"",value:t.showValue("jobAge")},on:{click:function(e){t.onShowActionsheet("jobAge")}}}),n("van-cell",{attrs:{title:"一句话介绍","is-link":"",value:t.formData.workSignature},on:{click:function(e){t.onShowActionsheet("workSignature")}}})],1),n("van-actionsheet",{attrs:{actions:t.options[t.map.sex]},on:{select:function(e){t.onSelect(e,"sex")}},model:{value:t.visible.sex,callback:function(e){t.$set(t.visible,"sex",e)},expression:"visible.sex"}}),n("van-actionsheet",{attrs:{actions:t.options[t.map.education]},on:{select:function(e){t.onSelect(e,"education")}},model:{value:t.visible.education,callback:function(e){t.$set(t.visible,"education",e)},expression:"visible.education"}}),n("van-actionsheet",{attrs:{actions:t.options[t.map.jobAge]},on:{select:function(e){t.onSelect(e,"jobAge")}},model:{value:t.visible.jobAge,callback:function(e){t.$set(t.visible,"jobAge",e)},expression:"visible.jobAge"}}),n("van-popup",{attrs:{position:"bottom"},model:{value:t.visible.birth,callback:function(e){t.$set(t.visible,"birth",e)},expression:"visible.birth"}},[n("van-datetime-picker",{attrs:{type:"date","min-date":new Date(1970,1,1),"max-date":new Date(2e3,12,31)},on:{confirm:function(e){t.onConfirm(e,"birth")},cancel:function(e){t.onCancel(e,"birth")}},model:{value:t.formData.birth,callback:function(e){t.$set(t.formData,"birth",e)},expression:"formData.birth"}})],1),n("van-popup",{attrs:{position:"bottom"},model:{value:t.visible.jobStatus,callback:function(e){t.$set(t.visible,"jobStatus",e)},expression:"visible.jobStatus"}},[n("van-radio-group",{model:{value:t.formData.jobStatus,callback:function(e){t.$set(t.formData,"jobStatus",e)},expression:"formData.jobStatus"}},[n("van-cell-group",t._l(t.options[t.map.jobStatus],function(e,i){return n("van-cell",{key:i,attrs:{title:e.name,clickable:""},on:{click:function(n){t.onConfirm(e.code,"jobStatus")}}},[n("van-radio",{attrs:{name:e.code}})],1)}))],1)],1),n("popup-input",{ref:"popupInput",attrs:{visible:t.visible.workSignature,text:t.formData.workSignature,placeholder:"请输入一句话介绍"},on:{"update:visible":function(e){t.$set(t.visible,"workSignature",e)},onConfirm:t.onUpdateSignature}}),t.loading?n("div",{staticClass:"loading"},[n("van-loading")],1):t._e()],1)},o=[],a=(n("7f7f"),n("f751"),n("9395")),s=n("2f62"),l=n("7f2e"),r={name:"ResumeEdit",components:{PopupInput:l["a"]},data:function(){return{loading:!0,formData:{userName:"",sex:1,headUrl:"",phone:"",jobStatus:1,birth:null,education:"",jobAge:1,workSignature:""},visible:{jobStatus:!1,sex:!1,birth:!1,education:!1,jobAge:!1,workSignature:!1},map:{jobStatus:"LW_FINDJOB_STATUS",sex:"LW_SEX",education:"LW_EDUCATION",jobAge:"LX_JOB_AGE"}}},computed:Object(a["a"])({},Object(s["b"])({options:function(t){return t.dict.options},kvs:function(t){return t.dict.kvs}})),mounted:function(){this.fetchBaseinfo(),this.listenSave()},methods:{fetchBaseinfo:function(){var t=this;this.loading=!0,this.$api.getResumeBaseinfo().then(function(e){var n=e.data;t.formData=Object.assign(t.formData,n.obj,{birth:n.obj.birth?new Date(n.obj.birth):null,workSignature:n.obj.workSignnature||n.obj.workSignature}),setTimeout(function(){t.loading=!1},500)},function(){t.loading=!1})},onShowActionsheet:function(t){this.visible[t]=!0,"workSignature"===t&&this.$refs.popupInput.focus()},onSelect:function(t,e){this.formData[e]=t.code,this.visible[e]=!1,this.update(e)},onConfirm:function(t,e){this.formData[e]=t,this.visible[e]=!1,this.update(e)},onCancel:function(t,e){this.visible[e]=!1},listenSave:function(){var t=this;this.$bridge.registerhandler("listenAction",function(e,n){t.loading||(t.loading=!0,setTimeout(function(){n(e),t.$bridge.callhandler("backPage",{isRefresh:!0},function(){}),t.loading=!1},200))})},onUpload:function(){var t=this;this.$bridge.callhandler("chooseImage",{uploadUrl:"/my/headUrl"},function(e){var n=JSON.parse(e);n&&n.status&&(t.formData.headUrl=n.data.url)})},onUpdateSignature:function(t){this.formData.workSignature=t,this.update("workSignature")},onInput:function(t){this.update(t)},update:function(t){var e=this.formData[t];"userName"===t&&e?this.$api.updateRealname({realName:e}):"sex"===t?this.$api.updateGender({gender:e}):"phone"===t?this.$api.updatePhone({phone:e}):"jobStatus"===t?this.$api.updateJobStatus({jobStatus:e}):"birth"===t?this.$api.updateBirthday({birth:this.$moment(e).format("YYYY-MM-DD")}):"education"===t?this.$api.updateEducation({education:e}):"jobAge"===t?this.$api.updateJobAge({jobAge:e}):"workSignature"===t&&this.$api.updateWorkSignature({workSignature:e})},showValue:function(t){var e=this.kvs[this.map[t]];return e?e[this.formData[t]]:t}}},u=r,c=(n("792d"),n("2877")),f=Object(c["a"])(u,i,o,!1,null,"017f99ef",null);f.options.__file="ResumeBasic.vue";e["default"]=f.exports},"72a8":function(t,e,n){},"792d":function(t,e,n){"use strict";var i=n("2bc0"),o=n.n(i);o.a},"7f2e":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("transition",{attrs:{name:"van-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"van-modal",on:{click:t.onCancel,touchmove:function(t){t.stopPropagation(),t.preventDefault()}}})]),n("div",{staticClass:"van-dialog",class:{closed:!t.visible},style:{top:t.top}},[t.showTitle?n("div",{class:["van-dialog__header","van-dialog__header--"+t.inputAlign]},[t._v(t._s(t.title))]):t._e(),n("div",{staticClass:"van-dialog__content"},[n("van-field",{ref:"input",attrs:{placeholder:t.placeholder,"input-align":t.inputAlign},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onConfirm(e):null}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("div",{staticClass:"van-hairline--top van-dialog__footer van-dialog__footer--buttons"},[n("button",{staticClass:"van-button van-button--default van-button--large van-dialog__cancel",on:{click:t.onCancel}},[n("span",{staticClass:"van-button__text"},[t._v(t._s(t.cancelButtonText))])]),n("button",{staticClass:"van-button van-button--default van-button--large van-dialog__confirm",attrs:{type:"submit"},on:{click:t.onConfirm}},[n("span",{staticClass:"van-button__text"},[t._v(t._s(t.confirmButtonText))])])])])],1)},o=[],a=(n("cadf"),n("551c"),n("097d"),"-100px"),s={props:{visible:{type:Boolean,default:!1},text:{type:String,default:""},placeholder:{type:String,default:"请输入评论内容"},confirmButtonText:{type:String,default:"确认"},cancelButtonText:{type:String,default:"取消"},showTitle:{type:Boolean,default:!1},title:{type:String,default:"提示"},inputAlign:{type:String,default:"center"}},data:function(){return{content:this.text,top:a}},watch:{text:function(){this.content!==this.text&&(this.content=this.text)}},methods:{focus:function(){var t=this;window.document.querySelector("body").style.overflow="hidden",this.$refs.input.$el.querySelector("input").focus(),this.$nextTick(function(){t.top="35%"})},onConfirm:function(){this.content&&(this.$emit("onConfirm",this.content),this.onCancel())},onCancel:function(){this.$emit("update:visible",!1),window.document.querySelector("body").style.overflow="auto",this.top=a,this.$refs.input.$el.querySelector("input").blur()}}},l=s,r=(n("646e"),n("2877")),u=Object(r["a"])(l,i,o,!1,null,"21688f88",null);u.options.__file="PopupInput.vue";e["a"]=u.exports},9395:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("88d8");function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){Object(i["a"])(t,e,n[e])})}return t}}}]);