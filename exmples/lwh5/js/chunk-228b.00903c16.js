(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-228b"],{9395:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("88d8");function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},o=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),o.forEach(function(e){Object(n["a"])(t,e,i[e])})}return t}},"94fb":function(t,e,i){},c8dd:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"resume"},[i("van-cell-group",[i("van-cell",{attrs:{title:"岗位（多选）","is-link":"",value:t.showValue("positionDef")},on:{click:function(e){t.onShowActionsheet("positionDef")}}}),i("van-cell",{attrs:{title:"工作地点（多选）","is-link":"",value:t.showValue("city")},on:{click:function(e){t.onShowActionsheet("city")}}}),i("van-cell",{attrs:{title:"计薪方式","is-link":"",value:t.showValue("salaryType")},on:{click:function(e){t.onShowActionsheet("salaryType")}}}),i("van-field",{attrs:{clearable:"",label:"期望薪资",placeholder:"请输入期望薪资","input-align":"right"},on:{blur:function(e){t.onBlur("salaryValue")}},model:{value:t.formData.salaryValue,callback:function(e){t.$set(t.formData,"salaryValue",e)},expression:"formData.salaryValue"}}),i("van-cell",{attrs:{title:"工作类型（多选）","is-link":"",value:t.showValue("workType")},on:{click:function(e){t.onShowActionsheet("workType")}}}),i("van-cell",{attrs:{title:"企业标签（多选）","is-link":"",value:t.showValue("positionTag")},on:{click:function(e){t.onShowActionsheet("positionTag")}}})],1),"salaryType"==t.currentVisible?i("van-actionsheet",{attrs:{actions:t.options[t.map[t.currentVisible]]},on:{select:function(e){t.onSelect(e,"salaryType")}},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}}):i("van-popup",{ref:"popup",attrs:{position:"bottom"},on:{"click-overlay":t.handleOverlay},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("div",{staticClass:"van-hairline--top-bottom van-picker__toolbar"},[i("div",{staticClass:"van-picker__cancel",on:{click:t.handleOverlay}},[t._v("取消")]),i("div",{staticClass:"van-picker__confirm",on:{click:t.onConfirm}},[t._v("确认")])]),i("van-checkbox-group",{attrs:{max:2},model:{value:t.formData[t.currentVisible],callback:function(e){t.$set(t.formData,t.currentVisible,e)},expression:"formData[currentVisible]"}},["positionTag"==t.currentVisible||"city"==t.currentVisible?i("div",{staticClass:"van-row van-row--flex van-row--justify-space-between flex"},t._l(t.options[t.map[t.currentVisible]],function(e){return i("div",{key:e.code,staticClass:"flex-item"},[i("van-checkbox",{attrs:{name:e.code,disabled:t.formData[t.currentVisible].length>=2&&t.formData[t.currentVisible].indexOf(e.code)<0}},[t._v("\n            "+t._s(e.name)+"\n          ")])],1)})):i("div",t._l(t.options[t.map[t.currentVisible]],function(e){return i("van-cell",{key:e.code,attrs:{title:e.name,clickable:""}},[i("van-checkbox",{attrs:{name:e.code,disabled:t.formData[t.currentVisible].length>=2&&t.formData[t.currentVisible].indexOf(e.code)<0}})],1)}))])],1)],1)},o=[];function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t){return s="function"===typeof Symbol&&"symbol"===a(Symbol.iterator)?function(t){return a(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a(t)},s(t)}i("7f7f");var r=i("9395"),l=i("2f62"),c=i("e758"),u={name:"ResumeIntent",data:function(){return{formData:{positionDef:[],city:[],salaryValue:"",salaryType:[],workType:[],positionTag:[]},visible:!1,currentVisible:"",map:{positionTag:"LW_POSITION_TAG",positionDef:"LW_POSITION_DEF",city:"LW_OPENED_CITY",workType:"LX_WORK_TYPE",salaryType:"LW_SALARY_TYPE"}}},computed:Object(r["a"])({},Object(l["b"])({options:function(t){return t.dict.options},kvs:function(t){return t.dict.kvs}})),created:function(){this.$store.dispatch(c["d"]),this.$store.dispatch(c["c"]),this.$store.dispatch(c["b"]),this.onFetch(),this.listenSave()},methods:{onFetch:function(){var t=this;this.loading=!0,this.$api.getResumeIntention({id:this.eduId}).then(function(e){var i=e.data,n=i.obj;n&&(n.id&&(t.formData.id=n.id),"1"!==n.isFullTime&&1!==n.isFullTime||t.formData.workType.push("1"),"1"!==n.isPartTime&&1!==n.isPartTime||t.formData.workType.push("2"),n.posiTagOneId&&t.formData.positionTag.push(n.posiTagOneId),n.posiTagTwoId&&t.formData.positionTag.push(n.posiTagTwoId),n.posiTypeOneId&&t.formData.positionDef.push(n.posiTypeOneId),n.posiTypeTwoId&&t.formData.positionDef.push(n.posiTypeTwoId),n.regionOneId&&t.formData.city.push(n.regionOneId),n.regionTowId&&t.formData.city.push(n.regionTowId),n.salaryType&&t.formData.salaryType.push(n.salaryType),n.salaryValue&&(t.formData.salaryValue=n.salaryValue),t.loading=!1)}).catch(function(){t.loading=!1})},listenSave:function(){var t=this;this.$bridge.registerhandler("listenAction",function(){return setTimeout(function(){t.$bridge.callhandler("backPage",{isRefresh:!0},function(){})},1e3)})},onBlur:function(t){this.currentVisible=t,this.update()},update:function(){var t=this.currentVisible,e=this.formData.id,i=this.formData[t];"workType"===t&&i.length?this.$api.updateResumeIntentionJobType({id:e,isFullTime:i.indexOf("1")>=0?1:0,isPartTime:i.indexOf("2")>=0?1:0}):"positionDef"===t&&i.length?this.$api.updateResumeIntentionPosType({id:e,posiTypeOneId:i[0]||"",posiTypeTwoId:i[1]||""}):"positionTag"===t&&i.length?this.$api.updateResumeIntentionPosTag({id:e,posiTagOneId:i[0]||"",posiTagTwoId:i[1]||""}):"city"===t&&i.length?this.$api.updateResumeIntentionRegion({id:e,regionOneId:i[0]||"",regionTowId:i[1]||""}):"salaryType"===t&&i.length?this.$api.updateResumeIntentionSalaryType({id:e,salaryType:i[0]}):"salaryValue"===t&&this.$api.updateResumeIntentionSalaryValue({id:e,salaryValue:i})},onShowActionsheet:function(t){this.currentVisible=t,this.visible=!0},onSelect:function(t,e){this.formData[e]=t.code,this.visible=!1,this.update()},onConfirm:function(){"object"===s(this.formData[this.currentVisible])&&this.formData[this.currentVisible].length&&this.update(),this.visible=!1,this.$refs.popup.close()},handleOverlay:function(){this.visible=!1,this.$refs.popup.close()},showValue:function(t){var e=this.formData[t];if(e&&e.length){var i=this.options[this.map[t]];return i?this.options[this.map[t]].filter(function(t){return e.indexOf(t.code)>=0}).map(function(t){return t.name}).join(","):""}return""}}},p=u,f=(i("e47d"),i("2877")),h=Object(f["a"])(p,n,o,!1,null,"2c8cad5e",null);h.options.__file="ResumeIntent.vue";e["default"]=h.exports},e47d:function(t,e,i){"use strict";var n=i("94fb"),o=i.n(n);o.a}}]);