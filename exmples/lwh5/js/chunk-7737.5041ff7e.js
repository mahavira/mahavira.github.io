(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7737"],{"0998":function(t,a,n){"use strict";n.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("section",{staticClass:"container"},[-2===t.status?s("div",[s("van-cell-group",[s("van-field",{attrs:{clearable:"",label:"充值金额",type:"number",placeholder:"当前最低充值金额100.00元","input-align":"right"},model:{value:t.money,callback:function(a){t.money=a},expression:"money"}})],1),s("div",{staticClass:"do"},[s("van-button",{staticClass:"btn-blue",attrs:{block:""},on:{click:t.onConfirm}},[t._v("充值")])],1)],1):t._e(),0===t.status?s("div",{staticClass:"pay-status success"},[s("img",{attrs:{src:n("82aa"),alt:""}}),s("h2",[t._v("充值成功")]),s("ul",[s("li",[t._v("支付凭证号："+t._s(t.data.transactionId||t.tradeNo))]),s("li",[t._v("充值方式："+t._s(t.data.payPlatform?"1"==t.data.payPlatform?"微信":t.data.payPlatform:"微信"))]),s("li",[t._v("充值金额：￥"+t._s(t.data.ammount||"-"))]),s("li",[t._v("账户余额：￥"+t._s(t.data.totalAmmount||"0"))])]),s("van-button",{staticStyle:{width:"40%","margin-top":"20px"},attrs:{plain:"",type:"default"},on:{click:t.onBack}},[t._v("返回")])],1):t._e(),-1===t.status?s("div",{staticClass:"pay-status fail"},[s("img",{attrs:{src:n("8e43"),alt:""}}),s("h2",[t._v("充值失败")]),s("van-button",{staticStyle:{width:"40%","margin-top":"20px"},attrs:{plain:"",type:"default"},on:{click:t.onBack}},[t._v("返回")])],1):t._e(),t.loading?s("div",{staticClass:"loading"},[s("van-loading")],1):t._e()])},e=[],o={name:"Deposit",data:function(){return{money:"",status:-2,tradeNo:"",data:{},loading:!1}},methods:{onConfirm:function(){var t=this;this.money?parseFloat(this.money)<.01?this.$toast("充值金额必须大于0.01元!"):(this.loading=!0,this.$bridge.callhandler("openPaymentPage",{payPlatform:"wx",money:this.money,remark:"app"},function(a){t.loading=!1;try{var n=JSON.parse(a);console.log(n,n.status),n&&n.data&&(t.status=window.parseInt(n.data.state),t.tradeNo=n.data.tradeNo,0===t.status&&t.fetchPayStatus())}catch(t){console.log(t)}})):this.$toast("请输入充值金额!")},fetchPayStatus:function(){var t=this;this.$api.compRechargePayQuery({tradeNo:this.tradeNo}).then(function(a){var n=a.data;console.log(n),t.data=n.obj}).catch(function(){t.$toast("支付结果查询失败!")})},onBack:function(){this.$bridge.callhandler("backPage",{isRefresh:!0},function(){})}}},i=o,l=(n("27ea"),n("2877")),c=Object(l["a"])(i,s,e,!1,null,"324e8965",null);c.options.__file="Deposit.vue";a["default"]=c.exports},"0ed8":function(t,a,n){},"27ea":function(t,a,n){"use strict";var s=n("0ed8"),e=n.n(s);e.a},"82aa":function(t,a,n){t.exports=n.p+"img/pay_success.65f390e2.png"},"8e43":function(t,a,n){t.exports=n.p+"img/pay_fail.70677a2a.png"}}]);