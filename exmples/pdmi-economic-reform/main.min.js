!function(e){function t(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="./",t(0)}([function(e,t,i){e.exports=i(5)},function(e,t){"use strict";function i(e){return e?l+n(e):l}function o(e){var t=[],i="";for(var o in e){switch(o){case"translateX":i="translateX("+e[o]+"px)";break;case"translateY":i="translateY("+e[o]+"px)"}t.push(i)}return t.join(" ")}function n(e){return e.replace(/\b(\w)|\s(\w)/g,function(e){return e.toUpperCase()})}function a(e){return Math.round(1e3*e)/1e3}function s(e,t){return(Array(t).join(0)+e).slice(-t)}function d(e){var t=/(\+=|-=|)(-|)(\d+\.\d+|\d+)(e[+-]?[0-9]{0,2}|)(px|vh|vw|deg|%|)/i,i=t.exec(e);return i?{num:a(i[2]+i[3]+i[4]),unit:i[5],ext:i[1]}:{num:0,unit:"",ext:""}}Object.defineProperty(t,"__esModule",{value:!0});var h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},r=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(e){window.clearTimeout(e)},l=function(){var e="",t=document.createElement("div"),i=["Moz","Webkit","Ms","O"];for(var o in i)if(i[o]+"Transform"in t.style){e=i[o];break}return e}(),c=i("transform"),u=/(iPhone|iPad|iPod)/i.test(navigator.userAgent),p=!("ontouchstart"in window),f=768;t.requestAnimFrame=h,t.cancelAnimationFrame=r,t.prefix=l,t.browserPrefix=i,t.transformName=c,t.createTransform=o,t.firstUper=n,t.fixed3=a,t.isIos=u,t.isPc=p,t.pcWidth=f,t.regValue=d,t.prefixInteger=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={home:{videoSrc:"./video/home.mp4",poster:"./images/mobile/video-home.jpg",frameSrc:"./video/frame-home-720/",width:320,height:180},page:[{name:"刘志刚",address:"吉林辽源",work:"袜厂老板",width:320,height:180,pc:{src:"./video/pc/1.mp4",poster:"./images/pc/video-1.jpg"},mobile:{src:"./video/mobile/1.mp4",poster:"./images/mobile/video-1.jpg"}},{name:"莫元春",address:"重庆",work:"房地产从业者",width:320,height:180,pc:{src:"./video/pc/2.mp4",poster:"./images/pc/video-2.jpg"},mobile:{src:"./video/mobile/2.mp4",poster:"./images/mobile/video-2.jpg"}},{name:"翟锦钦",address:"江苏兴化",work:"银行信贷员",width:320,height:180,pc:{src:"./video/pc/3.mp4",poster:"./images/pc/video-3.jpg"},mobile:{src:"./video/mobile/3.mp4",poster:"./images/mobile/video-3.jpg"}},{name:"龚立超",address:"北京",work:"服装公司经理人",width:320,height:180,pc:{src:"./video/pc/4.mp4",poster:"./images/pc/video-4.jpg"},mobile:{src:"./video/mobile/4.mp4",poster:"./images/mobile/video-4.jpg"}},{name:"周延学",address:"湖北郧阳",work:"农民",width:320,height:180,pc:{src:"./video/pc/5.mp4",poster:"./images/pc/video-5.jpg"},mobile:{src:"./video/mobile/5.mp4",poster:"./images/mobile/video-5.jpg"}}]},e.exports=t.default},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),a=i(1),s=function(){function e(t,i,n){o(this,e),this.canvas=t,this.width=i.width,this.height=i.height,this.frame=i.frame,this.fps=i.fps||24,this.numLength=3,this.loop=i.loop,this.loopCount=i.loopCount,this.optsLoopCount=i.loopCount,this.singleMode=i.singleMode||!1,this.extension=i.extension||".png",this.isPuase=!0,this.loaded=!1,this.loadedCallback=i.loadedCallback||!1,this.callback=n,this._currentFrame=0,this.source=this.canvas.getAttribute("data-source"),this._setInterval,this._onloadLength=0,this._frames=[],this.init()}return n(e,[{key:"seekTo",value:function(e){this.pause(),this._currentFrame=e,this.loaded?this.draw():this.checkLoad("seekTo",e)}},{key:"replay",value:function(){this.pause(),this.seekTo(0),this.play()}},{key:"stop",value:function(){this.pause(),this.seekTo(this.frame-1)}},{key:"pause",value:function(){this.isPuase=!0,this._setInterval&&clearInterval(this._setInterval)}},{key:"play",value:function(){var e=this;this.loopCount=this.optsLoopCount,this.pause(),this.loaded?(this.isPuase=!1,this._setInterval=setInterval(function(){e.loaded&&e.draw()},1e3/this.fps)):this.checkLoad("play")}},{key:"checkLoad",value:function(e,t){var i=this;this._setInterval=setInterval(function(){if(i.loaded)switch(clearInterval(i._setInterval),e){case"draw":i.draw();break;case"seekTo":i.seekTo(t);break;default:i.play()}},1e3/this.fps)}},{key:"draw",value:function(){this._ctx.clearRect(0,0,this.width,this.height);var e=this._frames[this._currentFrame];this.singleMode?this._ctx.drawImage(this._img,e.x,e.y,this.width,this.height):this._ctx.drawImage(e,0,0,this.width,this.height),this._currentFrame===this.frame-1?(this._currentFrame=0,this.loop||(this.pause(),this.callback&&this.callback()),this.loopCount&&(this.loopCount>1?this.loopCount--:(this.pause(),this.callback&&this.callback()))):this._currentFrame++}},{key:"init",value:function(){function e(e){e._img=new Image,e._img.src=e.source,e._img.onload=function(){for(var t=e._img.width/e.width,i=e._img.height/e.height,o=0;o<i;o++)for(var n=0;n<t;n++){var a={x:n%t*e.width,y:o*e.height};e.frames.push(a)}}}function t(e){for(var t=0,i=0;i<e.frame;i++){var o=new Image,n=(0,a.prefixInteger)(i,e.numLength);o.src=e.source+n+e.extension,e._frames.push(o),o.onload=function(){0===e._onloadLength&&e.draw(),e._onloadLength++,e._onloadLength===e.frame&&(e.frame=e._onloadLength-t,e.loaded=!0,e.loadedCallback&&e.loadedCallback())},o.onerror=function(){e._onloadLength++,e._onloadLength===e.frame&&(t++,e.frame=e._onloadLength-t,e.loaded=!0,e.loadedCallback&&e.loadedCallback())}}}this.canvas.width=this.width,this.canvas.height=this.height,this._ctx=this.canvas.getContext("2d"),this.singleMode?e(this):t(this)}}]),e}();t.default=s,e.exports=t.default},function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=i(3),d=o(s),h=i(2),r=function u(e){var t=this;n(this,u),this.$el=e,$.extend(this,a.isPc?c:l),this.$el.empty(),this.$el.append(this.getVideoTmp()),this.initVideo(),$window.resize(function(){t.reflow()})};t.default=r;var l={getVideoTmp:function(){return'<canvas class="frameAnimate" data-source="'+h.home.frameSrc+'"></canvas>'},initVideo:function(){this.calcSize();var e=this.$el.find("canvas").get(0);this.frame=new d.default(e,{width:this.width,height:this.height,frame:174,fps:15,loop:!0,loopCount:0,extension:".jpg"})},reflow:function(){this.calcSize();var e=this.$el.find("canvas");e.css({width:this.width,height:this.height})},calcSize:function(){var e=0;if(!a.isPc&&windowWidth>windowHeight){var t=this.$el.css("bottom"),i=(0,a.regValue)(t);this.height=windowHeight-i.num,this.width=h.home.width/h.home.height*this.height,e=windowWidth-.8*this.width}else this.width=1.4*windowWidth,this.height=h.home.height/h.home.width*this.width,e=-(this.width-windowWidth)/2;this.$el.css({left:e})},play:function(){this.frame.play()},pause:function(){this.frame.pause()},muted:function(){}},c={getVideoTmp:function(){return'<video src="'+h.home.videoSrc+'" poster="'+h.home.poster+'" loop="true" autoplay preload x-webkit-airplay webkit-playsinline playsinline></video><div class="mask"></div>'},initVideo:function(){this.calcSize();var e=this.$el.find("video");this.video=e.get(0),e.css({width:this.width,height:this.height}),a.isIos&&makeVideoPlayableInline(this.video)},reflow:function(){this.calcSize();var e=this.$el.find("video");e.css({width:this.width,height:this.height})},calcSize:function(){var e=0;a.isIos&&windowWidth<windowHeight?(this.width=1.4*windowWidth,this.height=h.home.height/h.home.width*this.width,e=-(this.width-windowWidth)/2):(this.width=.85*windowWidth,this.height=h.home.height/h.home.width*this.width,e=.35*windowWidth),this.$el.css({left:e})},play:function(){this.video.play()},pause:function(){this.video.pause()},muted:function(){this.video.muted=!0}};e.exports=t.default},function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(){if(window.windowHeight=$window.height(),window.windowWidth=$window.width(),a(),!p.isPc&&windowWidth>windowHeight?$body.addClass("landscape"):$body.removeClass("landscape"),p.isPc)if(.5625<windowHeight/windowWidth&&windowWidth>768){var e=.5625*windowWidth;$(".home").css({height:e,top:(windowHeight-e)/2})}else $(".home").css({height:"100%",top:0})}function a(){var e=windowWidth,t=windowHeight;p.isIos||(e=v.find(".video").width()),t/e<.5625?v.find("video").css({width:1920/1080*t,height:t}):v.find("video").css({width:e,height:.5625*e})}function s(e,t){var i=l.default.page[t],o=i.mobile;o=i.pc,e.append('<video src="'+o.src+'" controls="controls"  poster="'+o.poster+'" x-webkit-airplay webkit-playsinline playsinline width="1" height="1" style="width:100%;height:auto;"></video>');var n=e.find("video"),a=n[0];p.isIos&&makeVideoPlayableInline(a);try{a.currentTime=0}catch(s){}return e.find(".pieter").length?e.find(".pieter").text(i.name+" "+i.address+" "+i.work):e.append('<p class="pieter">'+(i.name+" "+i.address+" "+i.work)+"</p>"),a}function d(e){b=e+b,b>=g.length?b=0:b<0&&(b=g.length-1),v.find("video").remove();var t=s(v.find(".video"),b);t.play(),t.addEventListener("ended",function(){d(1)})}function h(){$(".participation-warp").css({width:$(".participation-warp").width(),display:"block",margin:"0 auto"})}i(11),i(6),i(13),i(12),i(14),i(15),i(8),i(7),i(9),i(10);var r=i(2),l=o(r),c=i(4),u=o(c),p=i(1);window.$window=$(window),window.$document=$(document),window.$body=$("body"),window.windowHeight=$window.height(),window.windowWidth=$window.width(),$window.resize(n),window.log=function(){console.log.apply(this,arguments)};var f,m=$(".btn-menu"),w=$(".btn-play"),g=$(".page"),v=$(".fullVideo"),b=0;$(function(){$(".home").show(),f=new u.default($(".home .video")),f.play(),f.muted(),n(),$(".home").on("touchstart",function(){f.play()}),p.isPc||p.isIos||$body.addClass("android"),windowWidth>p.pcWidth&&v.find("video").attr({src:l.default.page[0].pc.src,poster:l.default.page[0].pc.poster}),v.find(".video").append('<p class="pieter">'+(l.default.page[0].name+" "+l.default.page[0].address+" "+l.default.page[0].work)+"</p>"),$(".open-btn").on("click",function(){m.toggleClass("open"),w.toggleClass("hide")}),$(".btn-menu .item").on("click",function(){var e=$(this).data("page");m.toggleClass("open"),w.toggleClass("hide");var t=g.eq(e-1);t.show(),t.find(".content-warp").scrollTop(0),f.pause(),setTimeout(function(){t.addClass("active"),t.find(".close").addClass("active"),s(t.find(".video"),e-1)},500),e==g.length&&h()}),$(".page .close,.back-btn").on("click",function(){$(this).removeClass("active");var e=$(this).parents(".page");e.hide(),f.play(),e.removeClass("active").find("video").remove()}),$(".paging .item").on("click",function(){var e=$(this).parents(".page"),t=g.index(e);e.find("video").remove(),t=$(this).hasClass("next")?t+1>=g.length?0:t+1:t-1<0?g.length-1:t-1,e.find(".content-warp").scrollTop(0),setTimeout(function(){setTimeout(function(){e.hide().removeClass("active"),e.find(".close").removeClass("active")},600);var i=g.eq(t);i.show().addClass("active"),i.find(".close").addClass("active"),s(i.find(".video"),t),t+1==g.length&&h()},1)}),$(".paging .share-btn").on("click",function(){$(".sharePage").fadeIn()}),$(".sharePage").on("touchstart click",function(){$(".sharePage").fadeOut()}),w.on("click",function(){$(this).toggleClass("play"),f.pause(),v.show().find(".close").addClass("active");var e=v.find("video").get(0);e.play(),e.addEventListener("ended",function(){d(1)}),a()}),$(".fullVideo .close").on("click",function(){$(this).removeClass("active"),v.hide(),w.toggleClass("play"),setTimeout(function(){v.find("video").get(0).pause()},10),f.play()}),$(".fullVideo .handle-item").on("click",function(){d($(this).hasClass("next")?1:-1),a()})})},function(e,t){e.exports={video:"video",mask:"mask",close:"close",left:"left",active:"active",right:"right",pieter:"pieter",sharePage:"sharePage"}},function(e,t){e.exports={foot:"foot",btn:"btn","btn-play":"btn-play","icon-item":"icon-item",play:"play","btn-menu":"btn-menu",item:"item"}},function(e,t){e.exports={home:"home","title-sub":"title-sub",title:"title",video:"video"}},function(e,t){e.exports={page:"page",title:"title","share-explain":"share-explain","share-logo":"share-logo"}},function(e,t){},function(e,t){},function(e,t){e.exports={foot:"foot",btn:"btn","btn-menu":"btn-menu","btn-play":"btn-play",hide:"hide","icon-item":"icon-item",play:"play",diffuse:"diffuse","open-btn":"open-btn",open:"open",items:"items",item:"item"}},function(e,t){e.exports={home:"home",title:"title",video:"video",landscape:"landscape","title-sub":"title-sub"}},function(e,t){e.exports={page:"page",active:"active",video:"video","content-warp":"content-warp","content-container":"content-container",title:"title","title-sub":"title-sub",content:"content",head:"head",author:"author",intro:"intro",subtitle:"subtitle",matter:"matter",bold:"bold",paging:"paging",item:"item","share-btn":"share-btn","back-btn":"back-btn",next:"next",participation:"participation","participation-warp":"participation-warp","share-explain":"share-explain","share-logo":"share-logo"}},function(e,t){e.exports={fullVideo:"fullVideo",video:"video",close:"close","handle-item":"handle-item",next:"next",android:"android"}}]);